mkdir my-cluster
cd my-cluster


ceph-deploy install ceph-node1 ceph-node2 ceph-node3 ceph-admin




ceph-deploy new ceph-node1

ceph-deploy mon create ceph-node1

ceph-deploy gatherkeys ceph-node1



ceph-deploy disk zap ceph-node2:/dev/sdb ceph-node3:/dev/sdb

ceph-deploy osd prepare ceph-node2:/dev/sdb ceph-node3:/dev/sdb

ssh -t ceph-node1 "sudo reboot"

ssh -t ceph-node2 "sudo reboot"

ssh -t ceph-node3 "sudo reboot"

ceph-deploy osd activate ceph-node2:/dev/sdb1 ceph-node3:/dev/sdb1




ceph-deploy admin ceph-admin ceph-node1 ceph-node2 ceph-node3




ceph --admin-daemon /var/run/ceph/ceph-mon.dec.asok mon_status

sudo ceph --admin-daemon /var/run/ceph/ceph-mon.ceph-admin.asok mon_status








admin only


ceph-deploy install ceph-admin

ceph-deploy new ceph-admin

ceph-deploy mon create ceph-admin

ceph-deploy gatherkeys ceph-admin

#sudo bash -c "ceph auth get-or-create client.admin mds 'allow' osd 'allow *' mon 'allow *' > /etc/ceph/keyring"

#ceph-deploy disk list ceph-admin

ceph-deploy disk zap ceph-admin:/dev/sdb

ceph-deploy osd prepare ceph-admin:/dev/sdb

ceph-deploy osd activate ceph-admin:/dev/sdb1





ceph-deploy disk zap ceph-node2:/dev/sdb ceph-node3:/dev/sdb

ceph-deploy osd prepare ceph-node2:/dev/sdb ceph-node3:/dev/sdb

ceph-deploy osd activate ceph-node2:/dev/sdb1 ceph-node3:/dev/sdb1




